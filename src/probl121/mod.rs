pub fn solution(prices: Vec<i32>) -> i32 {
    let mut res = 0;
    let mut min = -1;
    let mut max = -1;
    
    for i in prices {
        if i <= min || min == -1 {
            min = i;
            max = 0;
        }

        if i >= max || max == -1 {
            max = i;
        }

        let cur_diff = max - min;

        if cur_diff > res {
            res = cur_diff;
        }    

    }

    res
}

#[cfg(test)]
mod tests {
    use super::solution;

    #[test]
    pub fn solution1() {
        let got = solution(vec![7,1,5,3,6,4]);
        let expected = 5;

        assert_eq!(got, expected);
    }

    #[test]
    pub fn solution2() {
        let got = solution(vec![7,6,4,3,1]);
        let expected = 0;

        assert_eq!(got, expected);
    }

    #[test]
    pub fn solution3() {
        let got = solution(vec![7,1,5,3,6,14]);
        let expected = 13;

        assert_eq!(got, expected)
    }

    #[test]
    pub fn solution4() {
        let in_vec = vec![414,863,393,674,205,793,229,379,37,455,594,36,312,667,441,411,514,344,681,359,865,124,984,670,509,337,495,266,275,356,26,229,51,557,292,975,551,985,445,710,467,31,890,694,127,349,631,322,595,59,433,173,944,305,662,379,864,835,355,411,506,10,716,918,872,716,887,453,706,416,245,611,6,403,894,94,852,733,890,131,481,723,571,335,695,475,112,245,389,754,439,990,771,282,935,746,422,627,570,101,212,248,123,633,842,110,272,352,910,926,726,502,396,49,444,581,533,134,866,573,143,437,411,777,671,341,174,481,7,454,985,392,228,6,843,379,791,328,967,374,641,48,818,715,427,432,652,472,569,214,66,42,640,922,408,890,180,480,147,602,793,452,396,322,262,104,113,871,642,758,506,571,431,886,315,260,68,413,721,6,727,615,668,72,880,627,403,716,196,121,118,353,204,518,116,578,924,133,858,675,757,905,270,297,681,753,624,27,151,802,42,429,45,494,2,242,811,386,272,325,359,95,921,591,823,274,670,488,750,30,177,40,106,513,639,802,176,248,108,822,94,141,464,736,511,188,516,133,930,886,66,311,218,663,394,52,31,176,108,607,226,622,619,823,181,694,107,138,375,825,309,521,887,402,183,510,705,186,398,677,445,721,185,481,80,96,461,972];

        let got = solution(in_vec);
        let expected = 984;

        assert_eq!(got, expected);

    }



}